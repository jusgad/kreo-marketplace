# ==============================================================================
# STAGING ENVIRONMENT CONFIGURATION
# Este archivo es una PLANTILLA para el ambiente de staging
# Copiar y completar valores reales: cp .env.staging .env
# ==============================================================================

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
NODE_ENV=staging

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
POSTGRES_DB=kreo_staging_db
POSTGRES_USER=kreo_staging
POSTGRES_PASSWORD=CAMBIAR_POR_PASSWORD_SEGURA
POSTGRES_PORT=5432
DATABASE_URL=postgresql://kreo_staging:CAMBIAR_POR_PASSWORD_SEGURA@postgres:5432/kreo_staging_db

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CAMBIAR_POR_PASSWORD_REDIS
REDIS_URL=redis://:CAMBIAR_POR_PASSWORD_REDIS@redis:6379

# ==============================================================================
# ELASTICSEARCH CONFIGURATION
# ==============================================================================
ELASTICSEARCH_PORT=9200
ELASTIC_PASSWORD=CAMBIAR_POR_PASSWORD_ELASTIC
ELASTICSEARCH_URL=http://elastic:CAMBIAR_POR_PASSWORD_ELASTIC@elasticsearch:9200

# ==============================================================================
# JWT CONFIGURATION
# ==============================================================================
# IMPORTANTE: Generar con: openssl rand -base64 32
JWT_ACCESS_SECRET=GENERAR_CON_OPENSSL_RAND_BASE64_32
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=GENERAR_CON_OPENSSL_RAND_BASE64_32_DIFERENTE
JWT_REFRESH_EXPIRES_IN=7d

# Legacy support
JWT_SECRET=GENERAR_CON_OPENSSL_RAND_BASE64_32
JWT_EXPIRES_IN=7d

# ==============================================================================
# SESSION CONFIGURATION
# ==============================================================================
SESSION_SECRET=GENERAR_CON_OPENSSL_RAND_BASE64_32

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
ALLOWED_ORIGINS=https://staging.kreo.com,https://vendor-staging.kreo.com

# ==============================================================================
# RATE LIMITING
# ==============================================================================
ENABLE_RATE_LIMITING=true
LOGIN_RATE_LIMIT_MAX=5
LOGIN_RATE_LIMIT_WINDOW=60
REGISTER_RATE_LIMIT_MAX=3
REGISTER_RATE_LIMIT_WINDOW=3600

# ==============================================================================
# PAYMENT SERVICES
# ==============================================================================
# Stripe (usar test keys en staging)
STRIPE_SECRET_KEY=sk_test_COMPLETAR
STRIPE_WEBHOOK_SECRET=whsec_COMPLETAR
STRIPE_PUBLISHABLE_KEY=pk_test_COMPLETAR

# ==============================================================================
# AWS SERVICES
# ==============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=COMPLETAR_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=COMPLETAR_SECRET_KEY
AWS_S3_BUCKET=kreo-marketplace-staging

# ==============================================================================
# EMAIL SERVICES
# ==============================================================================
SENDGRID_API_KEY=COMPLETAR_SENDGRID_KEY
SENDGRID_FROM_EMAIL=staging@kreo.com

# ==============================================================================
# SMS SERVICES
# ==============================================================================
TWILIO_ACCOUNT_SID=COMPLETAR_TWILIO_SID
TWILIO_AUTH_TOKEN=COMPLETAR_TWILIO_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# ==============================================================================
# SHIPPING SERVICES
# ==============================================================================
SHIPPO_API_KEY=COMPLETAR_SHIPPO_KEY

# ==============================================================================
# FRONTEND URLS
# ==============================================================================
CUSTOMER_APP_URL=https://staging.kreo.com
VENDOR_PORTAL_URL=https://vendor-staging.kreo.com
CUSTOMER_APP_API_URL=https://api-staging.kreo.com/api
VENDOR_PORTAL_API_URL=https://api-staging.kreo.com/api

# ==============================================================================
# API GATEWAY
# ==============================================================================
API_GATEWAY_URL=https://api-staging.kreo.com

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# ==============================================================================
# SECURITY
# ==============================================================================
IP_BLOCK_DURATION=7200
MAX_FAILED_ATTEMPTS=5
ENABLE_2FA=true

# ==============================================================================
# MONITORING (opcional)
# ==============================================================================
GRAFANA_PASSWORD=CAMBIAR_POR_PASSWORD_GRAFANA
